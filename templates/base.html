<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Gestão de Freelancers{% endblock %}</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* estilos adicionais se necessário */
  </style>
</head>

<body class="bg-gray-100 font-sans leading-normal tracking-normal">

  <!-- NAVBAR -->
  <nav class="bg-gradient-to-r from-blue-600 to-blue-800 shadow-lg">
    <div class="container mx-auto px-4">
      <div class="flex justify-between items-center py-4">

        <!-- LOGO -->
        <a href="{% url 'dashboard' %}" class="text-white text-2xl font-bold flex items-center gap-2">

          <!-- Heroicon Users -->
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="1.5" stroke="currentColor" class="w-7 h-7">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M18 18a3 3 0 00-3-3H9a3 3 0 00-3 3m12 0a3 3 0 11-6 0m6 0H6m6-6a3 3 0 110-6 3 3 0 010 6z" />
          </svg>

          Gestão Freelancers
        </a>

        <!-- MOBILE TOGGLE -->
        <button class="text-white lg:hidden" id="navbar-toggle">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M4.5 6.75h15m-15 5.25h15m-15 5.25h15" />
          </svg>
        </button>

        <!-- NAV LINKS -->
        <div class="hidden lg:flex lg:items-center lg:w-auto" id="navbar-collapse">
          <ul class="lg:flex lg:justify-between">

            {% if user.is_authenticated %}

            <li class="mr-6">
              <a href="{% url 'dashboard' %}" class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Heroicon Gauge -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.75a6 6 0 100 12 6 6 0 000-12zm0 0V3m0 3.75l.75-.375" />
                </svg>
                Dashboard
              </a>
            </li>

            {% if user.perfilusuario.tipo == 'admin' %}

            <li class="mr-6">
              <a href="{% url 'listar_freelancers' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Heroicon ID -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M15.75 5.25v13.5m-7.5-13.5v13.5M9 8.25h6m-6 3h6m-6 3h6" />
                </svg>
                Freelancers
              </a>
            </li>

            <li class="mr-6">
              <a href="{% url 'listar_escalas' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Heroicon Calendar -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M6.75 3v2.25m10.5-2.25V5.25M3.75 9.75h16.5" />
                </svg>
                Escalas
              </a>
            </li>

            <li class="mr-6">
              <a href="{% url 'listar_pagamentos' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Heroicon Money -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.75v10.5m-6-6h12" />
                </svg>
                Pagamentos
              </a>
            </li>

            <li class="mr-6">
              <a href="{% url 'listar_pontos' 1 %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Heroicon Clock -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.75v6l3 3" />
                </svg>
                Registro de Ponto
              </a>
            </li>

            {% else %}

            <li class="mr-6">
              <a href="{% url 'minhas_escalas' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Calendar Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M3.75 9.75h16.5" />
                </svg>
                Minhas Escalas
              </a>
            </li>

            <li class="mr-6">
              <a href="{% url 'meus_pontos' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Clock -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.75v6l3 3" />
                </svg>
                Meus Pontos
              </a>
            </li>

            <li class="mr-6">
              <a href="{% url 'meus_pagamentos' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">
                <!-- Money -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 6.75v10.5m-6-6h12" />
                </svg>
                Meus Pagamentos
              </a>
            </li>

            {% endif %}
            {% endif %}
          </ul>

          <!-- USER MENU -->
          <ul class="lg:flex lg:items-center">

            {% if user.is_authenticated %}
            <li class="relative group">

              <a href="#" class="text-white hover:text-blue-200 flex items-center py-2 gap-2">
                <div class="bg-white bg-opacity-20 rounded-full w-8 h-8 flex items-center justify-center">
                  <!-- User Icon -->
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                       stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-white">
                    <path stroke-linecap="round" stroke-linejoin="round"
                          d="M15.75 7.5a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.5 19.5a8.99 8.99 0 0115 0" />
                  </svg>
                </div>

                <span class="flex items-center gap-2">
                  {{ user.username }}

                  {% if user.perfilusuario.tipo == 'admin' %}
                  <span class="px-2 py-1 text-xs rounded bg-yellow-500 text-black">Admin</span>
                  {% else %}
                  <span class="px-2 py-1 text-xs rounded bg-blue-500 text-white">Freelancer</span>
                  {% endif %}
                </span>
              </a>

              <!-- DROPDOWN -->
              <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-md py-1 hidden group-hover:block z-50">

                <form method="post" action="{% url 'logout' %}" class="w-full">
                  {% csrf_token %}

                  <button type="submit"
                          class="w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100 flex items-center gap-2">
                    
                    <!-- Logout Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                         stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                      <path stroke-linecap="round" stroke-linejoin="round"
                            d="M15.75 9V5.25A2.25 2.25 0 0013.5 3H6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 006 21h7.5a2.25 2.25 0 002.25-2.25V15M18 12H9m9 0l-3 3m3-3l-3-3" />
                    </svg>

                    Sair
                  </button>
                </form>
              </div>
            </li>

            {% else %}
            <li>
              <a href="{% url 'login' %}"
                 class="text-white hover:text-blue-200 flex items-center gap-2 py-2">

                <!-- Login Icon -->
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                     stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                  <path stroke-linecap="round" stroke-linejoin="round"
                        d="M15.75 9V5.25A2.25 2.25 0 0013.5 3H6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 006 21h7.5a2.25 2.25 0 002.25-2.25V15M18 12H9m9 0l-3 3m3-3l-3-3" />
                </svg>

                Entrar
              </a>
            </li>
            {% endif %}
          </ul>

        </div>
      </div>
    </div>
  </nav>

  <!-- MESSAGES -->
  <main class="container mx-auto my-6 px-4">

    {% if messages %}
      {% for message in messages %}
        <div class="mb-4 p-4 rounded shadow flex items-center gap-3
          {% if message.tags == 'success' %} bg-green-100 border border-green-400 text-green-800
          {% elif message.tags == 'error' %} bg-red-100 border border-red-400 text-red-800
          {% elif message.tags == 'warning' %} bg-yellow-100 border border-yellow-400 text-yellow-800
          {% else %} bg-blue-100 border border-blue-400 text-blue-800 {% endif %}
        ">
          
          <!-- Ícone correspondente -->
          {% if message.tags == 'success' %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M4.5 12.75l6 6 9-13.5" />
          </svg>

          {% elif message.tags == 'error' or message.tags == 'warning' %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M12 9v3.75m0 3.75h.007" />
          </svg>

          {% else %}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
               stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
            <path stroke-linecap="round" stroke-linejoin="round"
                  d="M13 16h-1v-4h1m0 6h-1v-1h1M12 6.5a1 1 0 110-2 1 1 0 010 2z" />
          </svg>
          {% endif %}

          {{ message }}
        </div>
      {% endfor %}
    {% endif %}

    {% block content %}
    {% endblock %}
  </main>

  <!-- FOOTER -->
  <footer class="bg-gray-800 text-white py-4 mt-8">
    <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
      <p>&copy; 2025 Gestão de Freelancers. Todos os direitos reservados.</p>
      <small class="text-gray-400">Sistema de Gestão</small>
    </div>
  </footer>

  <!-- MOBILE SCRIPT -->
  <script>
    document.getElementById('navbar-toggle').addEventListener('click', () => {
      document.getElementById('navbar-collapse').classList.toggle('hidden');
    });
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
